# ğŸŒ AgoraMarket è‡ªå‹•åŒ–æ¸¬è©¦é …ç›®

## ğŸ¯ **é …ç›®æ¦‚è¿°**

AgoraMarket æ˜¯ä¸€å€‹åŸºæ–¼ Flutter çš„è·¨å¹³å°é›»å•†æ‡‰ç”¨ï¼Œæœ¬é …ç›®æä¾›å®Œæ•´çš„è‡ªå‹•åŒ–æ¸¬è©¦è§£æ±ºæ–¹æ¡ˆï¼Œæ”¯æŒ Webã€ç§»å‹•ç«¯å’Œæ¡Œé¢ç«¯æ¸¬è©¦ã€‚

## ğŸš€ **å¿«é€Ÿé–‹å§‹**

### **ç’°å¢ƒè¦æ±‚**

- Flutter SDK 3.0.0+
- Dart SDK 3.0.0+
- Windows 10+ (PowerShell è…³æœ¬æ”¯æŒ)

### **å®‰è£ä¾è³´**

```bash
flutter pub get
```

### **é‹è¡Œæ¸¬è©¦**

```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
flutter test

# é‹è¡Œ Web ç™»å…¥æ¸¬è©¦
flutter test test/web_login_test.dart

# é‹è¡Œå–®å…ƒæ¸¬è©¦
flutter test test/unit_test.dart

# é©—è­‰æ¸¬è©¦ Keys
dart run scripts/validate_keys.dart
```

## ğŸ“ **é …ç›®çµæ§‹**

```
AgoraMarketTest/
â”œâ”€â”€ lib/                           # æ ¸å¿ƒä»£ç¢¼
â”‚   â”œâ”€â”€ config/                    # æ¸¬è©¦é…ç½®
â”‚   â”‚   â”œâ”€â”€ test_config.dart      # é€šç”¨æ¸¬è©¦é…ç½®
â”‚   â”‚   â””â”€â”€ web_test_config.dart  # Web å¹³å°é…ç½®
â”‚   â”œâ”€â”€ core/constants/           # æ¸¬è©¦å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ test_keys.dart        # æ¸¬è©¦ Keys ç®¡ç†
â”‚   â”‚   â””â”€â”€ semantic_labels.dart  # èªç¾©æ¨™ç±¤
â”‚   â”œâ”€â”€ page_objects/             # é é¢ç‰©ä»¶
â”‚   â”‚   â”œâ”€â”€ base_page.dart        # åŸºç¤é é¢é¡
â”‚   â”‚   â”œâ”€â”€ auth_page.dart        # èªè­‰é é¢
â”‚   â”‚   â”œâ”€â”€ product_page.dart     # ç”¢å“é é¢
â”‚   â”‚   â”œâ”€â”€ cart_page.dart        # è³¼ç‰©è»Šé é¢
â”‚   â”‚   â””â”€â”€ web_auth_page.dart    # Web èªè­‰é é¢
â”‚   â””â”€â”€ utils/                    # å·¥å…·é¡
â”‚       â””â”€â”€ test_keys_validator.dart # Keys é©—è­‰å·¥å…·
â”œâ”€â”€ test/                          # å–®å…ƒæ¸¬è©¦
â”‚   â”œâ”€â”€ unit_test.dart            # åŸºç¤å–®å…ƒæ¸¬è©¦
â”‚   â””â”€â”€ web_login_test.dart       # Web ç™»å…¥æ¸¬è©¦
â”œâ”€â”€ integration_test/              # é›†æˆæ¸¬è©¦
â”‚   â””â”€â”€ smoke_tests/              # å†’ç…™æ¸¬è©¦
â”‚       â”œâ”€â”€ basic_navigation_test.dart # åŸºç¤å°èˆªæ¸¬è©¦
â”‚       â””â”€â”€ web_login_test.dart   # Web ç™»å…¥é›†æˆæ¸¬è©¦
â”œâ”€â”€ scripts/                       # åŸ·è¡Œè…³æœ¬
â”‚   â”œâ”€â”€ run_tests.ps1             # åŸºç¤æ¸¬è©¦åŸ·è¡Œ
â”‚   â”œâ”€â”€ run_all_tests.ps1         # å®Œæ•´æ¸¬è©¦å¥—ä»¶
â”‚   â”œâ”€â”€ run_web_tests.ps1         # Web æ¸¬è©¦åŸ·è¡Œ
â”‚   â”œâ”€â”€ run_web_widget_tests.ps1  # Web Widget æ¸¬è©¦
â”‚   â””â”€â”€ validate_keys.dart        # Keys é©—è­‰è…³æœ¬
â”œâ”€â”€ docs/                          # æ–‡æª”
â”‚   â””â”€â”€ WEB_TESTING_GUIDE.md      # Web æ¸¬è©¦æŒ‡å—
â”œâ”€â”€ test_results/                  # æ¸¬è©¦çµæœ
â”‚   â”œâ”€â”€ screenshots/               # æ¸¬è©¦æˆªåœ–
â”‚   â”œâ”€â”€ reports/                   # æ¸¬è©¦å ±å‘Š
â”‚   â””â”€â”€ logs/                      # æ¸¬è©¦æ—¥èªŒ
â””â”€â”€ README.md                      # é …ç›®èªªæ˜
```

## ğŸŒ **Web å¹³å°æ¸¬è©¦**

### **Web æ¸¬è©¦ç‰¹è‰²**

- **éŸ¿æ‡‰å¼è¨­è¨ˆæ¸¬è©¦**ï¼šæ”¯æŒæ¡Œé¢ç«¯ã€å¹³æ¿ç«¯ã€ç§»å‹•ç«¯ä½ˆå±€æ¸¬è©¦
- **Widget æ¸¬è©¦**ï¼šä½¿ç”¨ `testWidgets` é€²è¡Œ UI çµ„ä»¶æ¸¬è©¦
- **è·¨ç€è¦½å™¨æ”¯æŒ**ï¼šChromeã€Firefoxã€Edge å…¼å®¹æ€§æ¸¬è©¦
- **ç„¡éšœç¤™æ¸¬è©¦**ï¼šèªç¾©æ¨™ç±¤å’Œå¯è¨ªå•æ€§é©—è­‰

### **Web æ¸¬è©¦åŸ·è¡Œ**

```bash
# åŸ·è¡Œ Web Widget æ¸¬è©¦
.\scripts\run_web_widget_tests.ps1

# åŸ·è¡Œå®Œæ•´ Web æ¸¬è©¦å¥—ä»¶
.\scripts\run_web_tests.ps1
```

### **Web æ¸¬è©¦æ¡ˆä¾‹**

1. **ç™»å…¥åŠŸèƒ½æ¸¬è©¦**
   - é é¢è¼‰å…¥é©—è­‰
   - è¡¨å–®è¼¸å…¥æ¸¬è©¦
   - æŒ‰éˆ•é»æ“Šæ¸¬è©¦
   - éŒ¯èª¤è™•ç†æ¸¬è©¦

2. **éŸ¿æ‡‰å¼è¨­è¨ˆæ¸¬è©¦**
   - æ¡Œé¢ç«¯ä½ˆå±€ (1920px)
   - å¹³æ¿ç«¯ä½ˆå±€ (1024px)
   - ç§»å‹•ç«¯ä½ˆå±€ (375px)

3. **ç„¡éšœç¤™åŠŸèƒ½æ¸¬è©¦**
   - èªç¾©æ¨™ç±¤é©—è­‰
   - è¼¸å…¥æ¡†æ¨™ç±¤æª¢æŸ¥
   - éµç›¤å°èˆªæ”¯æŒ

## ğŸ”‘ **TestKeys ç³»çµ±**

### **æ ¸å¿ƒç‰¹æ€§**

- **çµ±ä¸€ç®¡ç†**ï¼šæ‰€æœ‰æ¸¬è©¦ Keys é›†ä¸­ç®¡ç†
- **å‹•æ…‹ç”Ÿæˆ**ï¼šæ”¯æŒç´¢å¼•ã€IDã€ç”¨æˆ¶ID ç­‰å‹•æ…‹ Key
- **é©—è­‰æ©Ÿåˆ¶**ï¼šè‡ªå‹•æª¢æŸ¥ Key æœ‰æ•ˆæ€§å’Œå”¯ä¸€æ€§
- **èªç¾©æ¨™ç±¤**ï¼šæ”¯æŒä¸­æ–‡èªç¾©æ¨™ç±¤ç®¡ç†

### **ä½¿ç”¨ç¤ºä¾‹**

```dart
// åŸºç¤ Key ä½¿ç”¨
expect(find.byKey(Key(TestKeys.emailInput)), findsOneWidget);

// å‹•æ…‹ Key ç”Ÿæˆ
final productKey = TestKeys.productItem.withIndex(1);
final userKey = TestKeys.userProfile.withUserId('user123');
```

### **Key é©—è­‰**

```bash
# é©—è­‰æ‰€æœ‰æ¸¬è©¦ Keys
dart run scripts/validate_keys.dart
```

## ğŸ“Š **æ¸¬è©¦å ±å‘Š**

### **å ±å‘Šé¡å‹**

- **HTML å ±å‘Š**ï¼šç¾è§€çš„ç¶²é æ ¼å¼å ±å‘Š
- **æ§åˆ¶å°è¼¸å‡º**ï¼šè©³ç´°çš„æ¸¬è©¦åŸ·è¡Œä¿¡æ¯
- **æˆªåœ–è¨˜éŒ„**ï¼šè‡ªå‹•ä¿å­˜æ¸¬è©¦æˆªåœ–
- **æ—¥èªŒæ–‡ä»¶**ï¼šå®Œæ•´çš„æ¸¬è©¦åŸ·è¡Œæ—¥èªŒ

### **å ±å‘Šå…§å®¹**

- æ¸¬è©¦åŸ·è¡Œæ‘˜è¦
- æˆåŠŸç‡çµ±è¨ˆ
- åŸ·è¡Œæ™‚é–“åˆ†æ
- å¤±æ•—æ¸¬è©¦è©³æƒ…
- ç’°å¢ƒä¿¡æ¯è¨˜éŒ„

## ğŸš¨ **å¸¸è¦‹å•é¡Œ**

### **Flutter Web é›†æˆæ¸¬è©¦é™åˆ¶**

**å•é¡Œ**ï¼š`Web devices are not supported for integration tests yet`

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ `testWidgets` å‰µå»ºæ¨¡æ“¬çš„ Web é é¢
- é€šé `tester.pumpWidget()` æ¸¬è©¦ UI çµ„ä»¶
- ä½¿ç”¨å–®å…ƒæ¸¬è©¦é©—è­‰æ¥­å‹™é‚è¼¯

### **æ¸¬è©¦åŸ·è¡Œå•é¡Œ**

```bash
# æª¢æŸ¥ Flutter ç’°å¢ƒ
flutter doctor

# æª¢æŸ¥ Web æ”¯æŒ
flutter devices

# é‹è¡Œæ¸¬è©¦
flutter test --verbose
```

## ğŸ”„ **ä¸‹ä¸€æ­¥è¨ˆåŠƒ**

### **çŸ­æœŸç›®æ¨™**

1. âœ… **å®Œæˆ Web ç™»å…¥æ¸¬è©¦** - å·²å¯¦ç¾
2. ğŸ”„ **æ“´å±•ç”¢å“æ¸¬è©¦** - å‰µå»ºç”¢å“åˆ—è¡¨å’Œè©³æƒ…æ¸¬è©¦
3. ğŸ”„ **æ·»åŠ è³¼ç‰©è»Šæ¸¬è©¦** - æ¸¬è©¦è³¼ç‰©è»ŠåŠŸèƒ½

### **ä¸­æœŸç›®æ¨™**

1. ğŸ”„ **éŸ¿æ‡‰å¼æ¸¬è©¦** - æ¸¬è©¦ä¸åŒè¨­å‚™çš„é¡¯ç¤ºæ•ˆæœ
2. ğŸ”„ **ç„¡éšœç¤™æ¸¬è©¦** - é©—è­‰èªç¾©æ¨™ç±¤å’Œå¯è¨ªå•æ€§
3. ğŸ”„ **æ€§èƒ½æ¸¬è©¦** - æ¸¬è©¦é é¢è¼‰å…¥å’ŒéŸ¿æ‡‰æ™‚é–“

### **é•·æœŸç›®æ¨™**

1. ğŸ”„ **ç«¯åˆ°ç«¯æ¸¬è©¦** - å®Œæ•´çš„ç”¨æˆ¶æµç¨‹æ¸¬è©¦
2. ğŸ”„ **è·¨ç€è¦½å™¨æ¸¬è©¦** - Chromeã€Firefoxã€Edge å…¼å®¹æ€§
3. ğŸ”„ **è‡ªå‹•åŒ–éƒ¨ç½²** - CI/CD é›†æˆ

## ğŸ“ **æŠ€è¡“æ”¯æ´**

### **æ¸¬è©¦åŸ·è¡Œ**

- æª¢æŸ¥ `TestKeys` æ˜¯å¦æ­£ç¢ºå®šç¾©
- é©—è­‰é é¢ç‰©ä»¶çš„å°å…¥è·¯å¾‘
- ç¢ºèªæ¸¬è©¦é…ç½®çš„ URL è¨­ç½®

### **ç’°å¢ƒé…ç½®**

- ç¢ºä¿ Flutter SDK ç‰ˆæœ¬æ­£ç¢º
- æª¢æŸ¥ Web å¹³å°æ”¯æŒ
- é©—è­‰ PowerShell åŸ·è¡Œæ¬Šé™

---

**æœ€å¾Œæ›´æ–°æ™‚é–“**: 2025å¹´8æœˆ
**ç‰ˆæœ¬**: 1.0.0
**é©ç”¨å¹³å°**: Flutter Web, Mobile, Desktop
**æ¸¬è©¦æ¡†æ¶**: flutter_test, testWidgets
